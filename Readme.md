# Project 'Tool'

## Aim

Aim of this project is to collect all kinds of useful tools in research

## List

### TextRead.m

- This is a MATLAB function to read a text file into a MATLAB cell.
- All the elements in the cell are strings.
- Each line in the text file will be read as a element in the cell.

### TextWrite.m

- This is a MATLAB function to write a MATLAB cell into a text file.
- All the elements in the cell are strings.
- Each element in the cell will be written as a line in the text file.

### DataSave.m

- This is a MATLAB function to save data in the workspace to *.mat file.
- All the variables in the workspace will be saved.
- The file name is autoconfigured with current time.

### SolidArrow2P.m

- This is a MATLAB function to plot a line between 2 points with solid arrow.
- Color of line, style of line, width of line, size of arrow and color of arrow can be specified.

### OpenArrow2P.m

- This is a MATLAB function to plot a line between 2 points with open arrow.
- Color of line, style of line, width of line, size of arrow, color of arrow, style of arrow and width of arrow can be specified.

### Plot_Sample.m

- This is a MATLAB script containing a set of functions and commands to illustrate the data by plot, mesh, contour and contourf.
- Properties of the figures can be changed.

### ValueDisplay.m
- This is a MATLAB function to display the elements of a vector by group together with a given name in the command window
- The vector, the name of the vector and the size of group should be given.

### findfilepartname.m

- This is a MATLAB function to search files in a given path by matching the first several characters of the name of files.
- Inputs of the function is the path to be searched and the first several characters of the file name.
- Output of the function is a cell containing the full names of the matched files in the given path. 

### readhbmat.m  & reorderhbmat.m

- The 'readhbmat.m' provide a function to read global stiffness/mass matrices from the file generated by Ansys 'HBMAT' command.
- The file generated by Ansys 'HBMAT' command is a sparse matrix in Harwell-Boeing format.
- However, the matrix read by readhbmat.m are different from the matrix by direct assembling.
- The reason is that Ansys program optimizes the order of degrees of freedom to reduce the band width of the sparse matrix.
- The mapping relationship between the order of DoFs before and after the band width optimization is stored in the *.mapping files.
- The 'reorderhbmat.m' provides a function to reset the optimized matrix into the original matrix according to the *mapping files.

### matrix_read.py

- This is a python script to read global stiffness/mass matrices from the file generated by Ansys substructure analysis
- The matrix read by this script is the same with direct assembling.
- However, the file generated by Ansys substructure analysis also includes the optimized DoF order.
- By setting 'reorder = 1', one can obtain the optimized matrix. The reordered matrix has smaller band width than the original one.

### braced_frame.mac

- This file presents a braced-frame structure modeled by APDL (Ansys).
- The model is used to demonstrate how to export global stiffness/mass matrix from Ansys by 'HBMAT' command or substructure analysis (super-element approach).
- This file is used together with readhbmat.m, reorderhbmat.m and matrix_read.py.

### matreader_abaq2matlab.m

- This is a MATLAB function to read global stiffness/mass matrix from  *.mtx file exported by ABAQUS '\*Matrix Generate' and '\*Matrix Output' commands.
- By setting option='sparse', one can obtain a sparse matrix.

### Abaqus_mat_exp.inp

- This is a Abaqus input file demonstrating how to export global stiffness/mass matrix by using '\*Matrix Generate' and '\*Matrix Output' commands.
- This Abaqus input file is used together with matreader_abaq2matlab.m

### figetdata.m

* This is a function to get data from '*.fig' files created by MATLAB.
* The data will be stored in cell format.
